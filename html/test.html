<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            $("#askbutton").on("click", function() {
                $('#askbutton').animate({left: '+=1800px'}, 600);
                $('#results').animate({left: '+=1800px'}, 600, function(){
                    $("#results").css('display', 'block');
                });
                $('#questionbar').css({
                                    'background-image': 'url("images/fire.gif")',
                                    'background-size': '100% 100%'});

                $('#askbutton').delay(600).animate({left: '-=1800px'}, 10000);
                $('#results').delay(600).animate({left: '-=1800px'}, 10000);
                setTimeout( function(){
                    $('#questionbar').css({
                                        'background-image': '',
                                        'background-size': ''});
                }, 10600);
            });
        });
    </script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id='header'>
        <img src='images/foto.jpg'; id='logo'>
    </div>
    <div id='searchitems'>
        <form id="searchform">
            <input type='text' id='questionbar' value='Wat wilt u zoeken?'><br>
            <button class="button" type="submit" id='askbutton'><span>Zoeken<span></button>
        </form>
    </div>

    <div id='result'>
    </div>

    <script>
        (function($){
            function processForm( e ){
                $.ajax({
                    url: 'http://localhost:5000/tryout',
                    dataType: 'text',
                    type: 'post',
                    contentType: 'application/x-www-form-urlencoded',
                    data: $(this).serialize(),
                    succes: function( data, textStatus, jQxhr ){
                        alert(data);
                        $('#result p').html(data);
                    }
                });

                e.preventDefault();
            }

            $('#searchform').submit(processForm);
        })(jQuery);

        // $("#searchform").submit(function(event) {
        //     var $form = #(this),
        //     term = $form.find("input[id='questionbar']" ).val();
        //
        //     var posting = $.post('http://localhost:5000/test', {questionbar: term});
        //
        //     posting.done(function(data) {
        //         var content = $(data).find("#content");
        //         $("#result").empty().append(content);
        //     });
        // });
    </script>
</body>
</html>
